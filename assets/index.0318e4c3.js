import{r as S,j}from"./index.23bb6a1b.js";function p(t){const e=new Date(t);if(!Number.isNaN(e.valueOf()))return e;const o=String(t).match(/\d+/g);if(o==null||o.length<=2)return e;{const[r,i,...f]=o.map(m=>parseInt(m)),d=[r,i-1,...f];return new Date(Date.UTC(...d))}}function w(t,e,o){const r=t!==1?e+"s":e;return t+" "+r+" "+o}const c=60,u=c*60,s=u*24,M=s*7,E=s*30,v=s*365;function K({date:t,formatter:e=w,component:o="time",live:r=!0,minPeriod:i=0,maxPeriod:f=M,title:d,now:a=()=>Date.now(),...m}){const[h,y]=S.exports.useState(a());S.exports.useEffect(()=>{if(!r)return;const b=(()=>{const x=p(t).valueOf();if(!x)return console.warn("[react-timeago] Invalid Date provided"),0;const T=Math.round(Math.abs(h-x)/1e3),U=T<c?1e3:T<u?1e3*c:T<s?1e3*u:1e3*M,I=Math.min(Math.max(U,i*1e3),f*1e3);return I?setTimeout(()=>{y(a())},I):0})();return()=>{b&&clearTimeout(b)}},[t,r,f,i,a,h]);const g=o,l=p(t).valueOf();if(!l)return null;const n=Math.round(Math.abs(h-l)/1e3),D=l<h?"ago":"from now",[N,O]=n<c?[Math.round(n),"second"]:n<u?[Math.round(n/c),"minute"]:n<s?[Math.round(n/u),"hour"]:n<M?[Math.round(n/s),"day"]:n<E?[Math.round(n/M),"week"]:n<v?[Math.round(n/E),"month"]:[Math.round(n/v),"year"],P=typeof d>"u"?typeof t=="string"?t:p(t).toISOString().substr(0,16).replace("T"," "):d,k=g==="time"?{...m,dateTime:p(t).toISOString()}:m,A=w.bind(null,N,O,D);return j(g,{...k,title:P,children:e(N,O,D,l,A,a)})}export{K as T};
